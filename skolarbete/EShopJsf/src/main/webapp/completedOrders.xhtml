<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    
    <head >
    	<title>EShop</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous"/>
    </head>
    <body style="background-color: powderblue;">
    	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ" crossorigin="anonymous"></script>
    	<h:button style="float:right; margin: 10px;" class="btn btn-success" value="Cart #{cartBean.numberOfItems()}" outcome="cart"/>
    	<div style="margin: 10px;">
    	<ui:repeat value="#{orderBean.getAll()}" var="order">
    		<div style="display: flex; flex-direction: row;">
	    	    <div style="margin: 10px">
			    	    <div class="card" style="width: 18rem;">
						  <div class="card-body">
						    <h5 class="card-title">#{order.getCustomer().getFirstName()} #{order.getCustomer().getLastName()}</h5>
						    <h6 class="card-subtitle mb-2 text-muted">#{order.getCustomer().getEmail()}</h6>
						    <p class="card-text">#{order.getCustomer().getAdress().getCity()} <br/>
						    #{order.getCustomer().getAdress().getStreet()} #{order.getCustomer().getAdress().getStreetNumber()} <br/>
						    #{order.getCustomer().getAdress().getCountry()}
						    </p>
						  </div>
						</div>
	            </div>
	            <div style="margin: 10px">
	            	<h:dataTable value="#{order.getOrderItemList()}" var="orderItem">
		    		<h:column>
		    		<f:facet name="header">Produktnamn:</f:facet>
		    		<h:outputLabel value="#{productBean.get(orderItem.getProductId()).getName()}"></h:outputLabel>
		    		</h:column>
		    		<h:column>
		    		<f:facet name="header">Antal</f:facet>
		    		<h:outputLabel value="#{orderItem.getAmount()} st"></h:outputLabel>
		    		</h:column>
		    	</h:dataTable>
	            </div>
			</div>
        </ui:repeat>  
    	

	    	<form>
	     	 
	     	 <h:button class="btn btn-success" value="Home" outcome="index"/>
	      </form>
      </div>
    </body>
</html>